# lexicons/ng_words.yaml
version: 1

# 各カテゴリの設定（親通知の要否、代替メッセージ）
categories:
  weapons:
    notify: true
    friendly: "それは危険だから教えられないよ。安全を守ることがいちばん大切。もし工作が好きなら、安全に学べる科学工作に挑戦しよう。"
  self_harm:
    notify: true
    friendly: "そのお願いには応えられないよ。今つらい気持ちかな？一人で抱え込まず、信頼できる大人に相談しよう。今すぐ助けが必要なら #7119 に連絡してね。"
  illicit:
    notify: true
    friendly: "それは法律に反する可能性がある内容だよ。安全とルールを守ることが大切だね。"
  sexual:
    notify: true
    friendly: "これは大人向けの話題だよ。年齢に合った内容で一緒に楽しく学ぼう。"
  adult:
    notify: true
    friendly: "これは大人向けの話題だよ。年齢に合った内容で一緒に楽しく学ぼう。"
  age_restricted:
    notify: false
    friendly: "これは年齢制限がある話題だよ。ルールを守って、安全に過ごそう。"
  harassment:
    notify: true
    friendly: "相手が嫌がることはしないよ。思いやりを大切にしよう。困っているなら、信頼できる大人に相談してね。"
  sexual_minors:
    notify: true
    friendly: "子どもに関わる性的な話題には答えられないよ。安心・安全が最優先だよ。"

# 正規表現の単語/表現ヒット（テキストは NFKC + lower に正規化してから照合）
patterns:
  weapons:
    - "(3d.?プリンタ|3d.?printer).*(拳銃|銃|gun|ライフル|ショットガン|ピストル|弾|弾薬|設計図)"
    - "(拳銃|銃|gun|ライフル|ショットガン|弾|弾薬|火薬|爆発物|爆弾|爆薬|起爆).*(作り方|作製|製造|設計|レシピ)"
    - "(火薬|爆薬).*(配合|混合|精製|製法)"
  self_harm:
    - "(自傷|自殺|自死|希死念慮|首を吊|過量服薬|od|オーバードーズ|リスカ|死にたい|消えたい)"
  adult:
    - "(18禁|r18|アダルト|ポルノ|性的|わいせつ|エロ|えっち|成人向け|セックス)"
  # sexual や illicit の「単語ヒット」を入れたい場合はここに追加
  sexual:
    - "(?<!公然)わいせつ"         # 「公然わいせつ」は別義の誤検知を避けるなら除外前置詞も可
    - "(痴漢|セクハラ|性的?嫌がらせ)"
    - "(盗撮|のぞき|覗き|露出の強要)"
    - "スカートめくり"
    - "(下着|パンツ|ブラジャー).*(見せて|見たい|見えるように)"
  sexual_minors:
    - "(未成年|児童|小学生|中学生|高校生|女子高生|js|jc|jk).*(性的|わいせつ|卑猥)"
  # illicit: []

# “名詞 × 意図” の近接一致（±window 文字以内）で強判定
combos:
  - category: illicit
    term: "(大麻|マリファナ|覚醒剤|コカイン|ヘロイン|lsd|mdma|フェンタニル|ケタミン|指定薬物|違法ドラッグ)"
    intent: "(栽培|育て|育成|作り方|合成|抽出|売|販売|購入|買|入手|密売|処方|譲渡)"
    window: 12

  - category: weapons
    term: "(拳銃|銃|ライフル|ショットガン|弾薬|火薬|爆弾|爆発物|爆薬|起爆|サプレッサー|消音器|設計図)"
    intent: "(作り方|製造|自作|設計|改造|密造|購入|入手|売買)"
    window: 12

  - category: age_restricted
    term: "(タバコ|たばこ|煙草|喫煙|お酒|アルコール|飲酒|ギャンブル|パチンコ|競馬|競輪|競艇)"
    intent: "(買える|購入|どこで|やり方|始め方|入手)"
    window: 12
  
  - category: sexual
    term: "(スカート|下着|パンツ|ブラ|胸|おっぱい|お尻|尻|太もも|身体|からだ|服|衣服)"
    intent: "(めくり|めくる|めくって|脱がす|脱がせる|触る|さわる|触って|揉む|もむ|撮る|盗撮|のぞく|覗く|キス|押し倒す|無理やり)"
    window: 12

  - category: harassment
    term: "(他人|人|相手|女子|女の子|女性|同級生|クラスメート|友達)"
    intent: "(嫌がらせ|からかう|いじめる|やっつける|手を出す|ちょっかい|悪ふざけ)"
    window: 12

  - category: sexual_minors
    term: "(未成年|児童|小学生|中学生|高校生|女子高生|js|jc|jk)"
    intent: "(触る|さわる|見る|見せる|盗撮|性行為|キス|無理やり|裸|脱がせる)"
    window: 12

  # 既存の illicit / weapons / age_restricted はそのまま
 
# 誤検知を避けたい除外（任意）
exclusions:
  - "火薬学会"      # 例：固有名詞など
  - "成人式"        # 18禁と誤マッチしないように
  - "痴漢冤罪"      # 文脈により必要なら
  - "露出補正"      # 画像編集用語の誤検知回避